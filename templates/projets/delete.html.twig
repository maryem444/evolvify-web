{# delete.html.twig #}
<div class="modal fade" id="deleteModal" tabindex="-1" aria-labelledby="deleteModalLabel" aria-hidden="true">
	<div class="modal-dialog modal-dialog-centered">
		<div class="modal-content">
			<div class="modal-header bg-danger text-white">
				<h5 class="modal-title" id="deleteModalLabel">
					<i class="fas fa-exclamation-triangle"></i>
					Confirmation de suppression
				</h5>
				<button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Fermer"></button>
			</div>
			<div class="modal-body">
				<p>Êtes-vous sûr de vouloir supprimer le projet
					<strong id="projetName"></strong>
					?</p>
				<p class="text-danger">
					<small>Cette action est irréversible.</small>
				</p>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
					<i class="fas fa-times"></i>
					Annuler
				</button>
				<button type="button" class="btn btn-danger" id="confirmDelete">
					<i class="fas fa-trash"></i>
					Supprimer
				</button>
			</div>
		</div>
	</div>
</div>

<form id="deleteForm" method="post" style="display: none;">
	<input type="hidden" name="_method" value="DELETE">
</form>

<script>
	document.addEventListener('DOMContentLoaded', function () { // Initialiser la modal Bootstrap
var deleteModal = new bootstrap.Modal(document.getElementById('deleteModal'));

// Ajouter des écouteurs d'événements à tous les boutons de suppression
document.querySelectorAll('.delete-projet-btn').forEach(function (button) {
button.addEventListener('click', function (e) {
e.preventDefault();

// Récupérer les informations du projet
var projetId = this.getAttribute('data-projet-id');
var projetName = this.getAttribute('data-projet-name');
var deleteUrl = this.getAttribute('data-delete-url');

// Mettre à jour la modal avec les informations du projet
document.getElementById('projetName').textContent = projetName;

// Configurer le formulaire de suppression
var form = document.getElementById('deleteForm');
form.action = deleteUrl;

// Afficher la modal
deleteModal.show();

// Configurer le bouton de confirmation
document.getElementById('confirmDelete').onclick = function () {
form.submit();
};
});
});
});
</script>
